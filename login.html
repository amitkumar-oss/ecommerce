<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="signup.css">
    
</head>
<body>
    <form class="col-sm-5 m-auto mt-5 ">
      <span id="error" style="color: red;"></span>
    <h2 class="text-center ">Login form</h2>
    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Email address</label>
        <input type="email" class="form-control" id="email" aria-describedby="emailHelp">
        
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label">Password</label>
        <input type="password" class="form-control" id="password">
      </div>
      <div>
      <button type="submit" class="btn btn-primary" onclick="submitHandler(event)">Submit</button>
      <p class="text-center mt-3">Dont't have an account !<a href="signup.html"> register</a></p>
    </div>

    </form>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
      let arr = JSON.parse(localStorage.getItem('userData'))


      let emailInput=document.querySelector('#email')
      let passwordInput=document.querySelector('#password')
      // console.log(emailInput,passwordInput)


       const submitHandler=(e)=>{
        e.preventDefault()
        // console.log('hello')
        
        
        let obj={
        email:emailInput.value,
        password:passwordInput.value,

        }
       

        
        console.log(obj)
        
        let userExists=arr.find((ele)=>ele.email===obj.email);
        
        if(userExists){
          if(userExists.password===obj.password){
            window.location.href="index.html";
            
          }
          else{
            // alert("wrong password");
            document.getElementById('error').innerHTML="wrong password"
            setTimeout(() => {
               document.getElementById('error').innerHTML=""

              
            }, 2000);

          }
        }
        else{
          // alert("user not found please sign up")
          document.getElementById('error').innerHTML="user not found please sign up"
            setTimeout(() => {
               document.getElementById('error').innerHTML=""

              
            }, 2000);
        }
      


      }



      // find
      // findIndex
      // forEach
      // map
      // include



      // let arr=[5,1,4,7,9,3]

      

      // arr.forEach((ans)=>{                  changes on original arr
      //   console.log(ans)
      // })




      // map.forEach((element)=>{                    always return duplicate arr
      //   console.log(element)
      // })



      // let index=arr.findIndex((ele)=>ele===3)
      // console.log(index)




      // let text="hello how are you"
      // if(text.includes('yes')){
      //   console.log('yes')
        
      // }
      // else{
      //   consoel.log("no")
      // }


    </script>
</body>
</html>